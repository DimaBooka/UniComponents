<app-head title="Partners" [subtitle]="id"></app-head>

<div class="detail-holder row d-flex align-items-center justify-content-center" *ngIf="partner">
  <div class="col-xs-12 col-sm-12 col-md-6 col-lg-5 col-xl-4">
    <app-card>

      <div class="data-holder w-100 d-flex flex-column align-items-start justify-content-start">
        <span class="label">Email</span>
        <div class="data-value w-100 d-flex align-items-center justify-content-center">
          <span class="partner-text">{{ partner.email }}</span>
        </div>

        <span class="label">Password</span>
        <div class="data-value w-100 d-flex align-items-center justify-content-center">
          <span class="partner-text">{{ partner.password }}</span>
        </div>

        <span class="label">Token</span>
        <div class="data-value w-100 d-flex align-items-center justify-content-center">
          <span class="partner-text">{{ partner.token }}</span>
        </div>

        <span class="label">Available currencies</span>
        <div class="data-value w-100 d-flex flex-column align-items-center justify-content-center">
          <span class="partner-text list-item" *ngFor="let cur of partner.available_currencies">{{ cur }}</span>
          <span class="partner-text" *ngIf="partner.available_currencies.length === 0">No value</span>
        </div>

        <span class="label">Sites</span>
        <div class="data-value w-100 d-flex flex-column align-items-center justify-content-center">
          <span class="partner-text list-item" *ngFor="let site of partner.sites">{{ site }}</span>
          <span class="partner-text" *ngIf="partner.sites.length === 0">No value</span>
        </div>
      </div>

      <div class="buttons-holder w-100 d-flex align-items-center justify-content-center">
        <button class="btn btn-primary" (click)="openEditPartner(editPartner, false)">Edit</button>
        <button class="btn" (click)="openEditPartner(deletePartner, true)">Delete</button>
      </div>

    </app-card>
  </div>
</div>


<ng-template #editPartner let-c="close" let-d="dismiss">
  <div class="edit-partner modal-header">
    <h4 class="modal-title">Edit</h4>
  </div>
  <div class="edit-partner modal-body">

    <app-partner-interaction *ngIf="partner" [partner]="partner" (onSubmit)="c($event)" (onCancel)="d()"></app-partner-interaction>

  </div>
</ng-template>

<ng-template #deletePartner let-c="close" let-d="dismiss">
  <div class="delete-partner modal-header">
    <h4 class="modal-title">Delete Confirmation</h4>
  </div>
  <div class="delete-partner modal-body d-flex flex-column align-items-start justify-content center">
    <span class="partner-text">Are you sure you want to delete this partner?</span>

    <div class="w-100 d-flex align-items-center justify-content-center">
      <span class="partner-text">{{ partner.email }}</span>
    </div>

    <div class="alert alert-warning" role="alert">
      <span style="font-weight: bold">Warning!</span> This cannot be undone.
    </div>

    <div class="buttons-holder w-100 d-flex align-items-center justify-content-center">
      <button type="button" class="btn" (click)="c('Close click')">Yes</button>
      <button type="button" class="btn btn-primary" (click)="d('Cross click')">No</button>
    </div>
  </div>
</ng-template>
